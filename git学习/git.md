# Git

## 1. 什么是版本管理

> 记录一些文件或者文件夹的变化，方便以后修改和查阅

## 2. 为什么使用版本管理

> 主要是一个项目，协作开发，各自做各自的事情，互不干涉。就像使用的svn一样，其中svn也是一种版本管理工具

## 3. 版本管理的分类

* 本地版本管理系统(vcs) version control system
* 集中式版本管理系统(svn) subversion
* 分布式版本管理系统(git)

![](images/QQ图片20200210223528.png)

![](images/QQ图片20200210224728.png)

## 4. git的下载安装

![](images/QQ图片20200210224935.png)

![](images/QQ图片20200210225031.png)

![](images/QQ图片20200210225350.png)

![](images/QQ图片20200210225441.png)

![](images/QQ图片20200210225535.png)

![](images/QQ图片20200210230448.png)



## 5.  git的操作 

* **图形化界面(不用)**
* **命令行(重点)**
* **和idea集成操作和svn一样(重点)**

## 6. git操作的三个区

*  **工作区** 

  > 工作区是指写代码的地方，就是工作空间 

*  **暂存区**

  > 代码暂存的地方  这个地方主要是为了解决git的误操作， 所以在git中代码不能直接提交到本地仓库 需要工作区先提交到暂存区，确定无误后再从暂存区提交到本地仓库

*  **本地仓库**

  > 就是本地存储代码的地方，并且对不同的提交生成版本号，对不同的版本进行管理，我们可以通过版本号 轻松看到任何版本的代码  

## 7. git基础命令演示

### 7.1. git init命令

> 此命令表示  初始化git  这个命令会生成一个.git文件（隐藏文件）  并且这个命令会创建 暂存区和本地仓库区

* **命令演示**

  ![](images/QQ图片20200210231615.png)

### 7.2.  git add命令

> 这个命令 表示从工作区提交到 暂存区 

* **命令演示**

  ![](images/QQ图片20200210232048.png)

* **其他添加方式**

  ```bash
  # 将index.html添加到暂存区
  git add index.html

  # 将css目录下所有的文件添加到暂存区
  git add css

  # 将当前目录下所有的java文件添加到暂存区
  git add *.java

  # 添加当前目录下所有的文件
  git add .
  git add -A
  git add --all
  ```

### 7.3. git commit 命令

> 这个命令是指 把暂存区没有提交过的内容提交到本地仓库 

**注意：首次提交需要配置用户信息**

```bash
git commit -m '信息'  // m = message
```

*  **问题演示**

  ![](images/QQ图片20200210232525.png)

* **配置邮箱名字**

  ![](images/QQ图片20200210232913.png)

### 7.4. git config 命令

> 如果是第一次提交，需要配置提交者信息，推荐和github的账号邮箱一致(避免忘记)

```bash
# git config  user.name 你的用户名
# git config  user.email 你的邮箱

# 使用--global参数，配置全局的用户名和邮箱，只需要配置一次即可。推荐配置github的用户名和密码
git config  --global user.name brook
git config  --global user.email zhengzhoudaxuevip@163.com

# 对名字 和邮箱重置
git config -unset --global user.name brook 
git config -unset --global user.email xxx

# 查看配置信息
git config --list
```

### 7.5.  git status

> 此命令的作用 查看文件的状态 

* **红色表示 文件还在本地区  还没有提交到暂存区**

* **绿色表示 文件在暂存区  还没有提交到本地仓库**

* **什么都没有表示 文件提交到本地仓库**

* **演示**

  ![](images/QQ图片20200210233910.png)

### 7.6. git log

> 此命令 查看提交日志 （注意：只有commit时 才会生成日志 ）

* **git log 是看比较完整的日志**

* **git log --oneline   日志一行显示 表示查看简短的日志**

* **演示**

  ![](images/QQ图片20200210234700.png)

### 7.7. 其他命令

```bash

## 快速把文件从工作区提交到本地仓库 但是这个文件必须已经添加过  
git commit -a -m "提交信息" // a = add,m = message

## 修改最后一次提交的信息
git commit --amend -m "提交信息" //amend = 修改
```

## 8. 不同区的比较命令

### 8.1. git diff  

* **不带参数**

  > 不带参数表示 工作区和暂存区的不同（表示提交过的不同 而不是新建一个文件就比较不同）

* **--cached**

  > 表示暂存区和本地仓库的不同

* **HEAD**

  > 表示工作区和本地仓库的不同

* **版本号**

  > 表示2个版本之间的不同

**演示**

![](images/QQ图片20200211000532.png)

## 9. git的重置

* **git reset**

* **参数**

  ```bash
  ## git reset 的参数可以是以下三个值：

  git reset 版本号         :  和--mixed一致（不掌握）
  git reset --soft 版本号  ： 只重置仓库区（不掌握）

  git reset --mixed 版本号 ： 重置仓库区和暂存区（不掌握）

  git reset --hard  版本号 ： 重置仓库区和暂存区和工作区。（掌握）、

  ```


  ![](images/QQ图片20200211002253.png)

## 10. git的忽略文件

> 忽略文件 是指哪些对代码的逻辑没有用的文件  我们可以不提交  提交时可以忽略

**忽略文件名.gitignore 并且文件名固定的**

**注意：window系统 无法创建此文件**

![](images/QQ图片20200211002751.png)

![](images/QQ图片20200211003055.png)

![](images/QQ图片20200211003327.png)



```bash
## 其他忽略方式 
# 忽视idea.txt文件
idea.txt

# 忽视.gitignore文件
.gitignore

# 忽视css下的index.js文件
css/index.js

# 忽视css下的所有的js文件
css/*.js

# 忽视css整个文件夹
css
```

## 11. git 分支

> 实际开发当中  一个项目 可能多人并行开发 此时分支很好的解决了相互影响的问题  不同的人 或者完成不同的功能  开启不同的分支  就能互不影响的开发功能 

**注意：当git执行 git init初始化git的时候 已经有个分支了 这个分支叫主分支 master**

![](images/QQ图片20200211003924.png)

### 11.1. 分支的操作 

* **创建分支**

  > git branch 分支名

* **进入（切换）分支**

  > git checkout 分支名 

* **创建并且直接进入**

  > git checkout -b 分支名  //b = branch

* **查看分支**

  > git branch   
  >
  > 注意： 当前分支有个 * 

* **删除分支**

  > git branch -d 分支名 //d = delete
  >
  > **注意：不能在当前分支 删除当前分支 **
  >
  > **注意：不要删除主分支**

* **分支合并**

  > git merge 分支名
  >
  > **注意： 合并分支 要在主分支上操作  把其他分支上的代码 合并到主分支**\

### 11.2. 分支操作演示

![](images/QQ图片20200211005137.png)

### 11.3. 分支合并演示

![](images/QQ图片20200211010407.png)

## 12. github的使用

> github 是个开源的，免费的，代码托管平台  代码是开放的  任何人都可以看到 （除非付费 变成私有的），和git 没有一毛钱关系 

### 12.1. github的登陆

**备注： 如果没有账号 先注册  **

```java
//如果实在登陆不上 只能配置域名映射
//第一步：查询ip http://www.github.com.ipaddress.com/
//第二步： hosts文件 配置映射   140.82.113.4   github.com
```

![](images/QQ图片20200211120923.png)

![](images/QQ图片20200211121022.png)

![](images/QQ图片20200211121102.png)

 

### 12.2. 创建远程仓库

![](images/QQ图片20200211121532.png)

![](images/QQ图片20200211123158.png)

![](images/QQ图片20200211123444.png)

### 12.3. 操作远程仓库演示

#### 12.3.1. 上传到github演示

![](images/QQ图片20200211124540.png)

![](images/QQ图片20200211124638.png)

#### 12.3.2. 从github上下载演示

![](images/QQ图片20200211134244.png)

#### 12.3.3. 操作github的完整流程

* **创建仓库**

  ![](images/QQ图片20200211134506.png)

* **本地初始化git**

  ![](images/QQ图片20200211134609.png)

* **编写代码**

  ![](images/QQ图片20200211134745.png)

* **添加到本地仓库**

   ![](images/QQ图片20200211134946.png)



* **上传到github**

  ![](images/QQ图片20200211135231.png)

* **结果演示**

  ![](images/QQ图片20200211135328.png)

* **继续写代码**

  ![](images/QQ图片20200211135534.png)

* **新的代码上传本地仓库**

  ![](images/QQ图片20200211135635.png)

* **新的代码上传到github**

  ![](images/QQ图片20200211140000.png)

* **结果查看**

  ![](images/QQ图片20200211140101.png)

#### 12.3.4. 实际开发中分支操作完整流程演示

* **项目经理**

  > 一般一个 掌握主分支

* **程序员**

  >  多个  在自己分支上编写代码  程序员之间 互不影响

* **需求**

  > 项目经理： 搭建好项目架构  发布到github上   创建分支  把不同的分支分配给程序员  
  >
  > 程序员:  在自己的分支上 编写功能 编写代码 编写完毕之后 提交到自己的分支上 
  >
  > 项目经理： 在主分支合并 程序员编写好的分支上的代码  以及合并冲突的解决

  


## 13. github的免密登录（ssh）

> 由于每次提交都要输入账号密码  我们可以设置免密登录 

### 13.1. 生成公钥私钥

> ssh-keygen -t rsa

![](images/QQ图片20200211142722.png)

![](images/QQ图片20200211142827.png)

### 13.2. 复制公钥中的内容 

![](images/QQ图片20200211143111.png)

### 13.3. 在github中配置公钥 

*  **进入配置位置的第一步**

  ![](images/QQ图片20200211143239.png)

* **进入配置位置第二步**

  ![](images/QQ图片20200211143311.png)

* **配置**

  ![](images/QQ图片20200211143507.png)

### 13.4. 结果演示

> 注意：要使用ssh免密码登陆  必须使用ssh的方式 

![](images/QQ图片20200211143738.png)

* **ssh的方式克隆代码**

  ![](images/QQ图片20200211144157.png)



* **添加到github**

  ![](images/QQ图片20200211144450.png)



## 14. 和Idea集成git

### 14.1. 集成git



![](images/QQ图片20200211150609.png)

![](images/QQ图片20200211150908.png)

![](images/QQ图片20200211151004.png)

### 14.2. 把项目交给git管理 

![](images/QQ图片20200211151407.png)

![](images/QQ图片20200211151546.png)



### 14.3. 普通操作

> 普通操作和svn一样

![](images/QQ图片20200211151728.png)



![](images/QQ图片20200211151828.png)

![](images/QQ图片20200211151902.png)



**以上三种都可以操作git  哪一种都可以 **



### 14.4. 操作分支

![](images/QQ图片20200211152117.png)



**分支操作  创建分支 切换分支 删除分支 分支合并 **

### 14.5. 设置忽略文件

![](images/QQ图片20200211152538.png)

## 15. 在线简历（免服务器）必备

> github 有一个github-pages服务器 我们可以把我们的在线简历 放到github-pages当中 此时我们的简历就是在线的  全世界的人 都可以通过访问网址 进行访问你的简历  我们不需要购买服务器   github是现成的

* **使用规则**

  * **创建一个仓库  仓库名必须叫 用户名+github.io**

  ![](images/QQ图片20200211145206.png)

  * **必须开启https访问**

    ![](images/QQ图片20200211145311.png)



* **把你的简历html提交到这个仓库**

  ![](images/QQ图片20200211145416.png)



* **可以通过网址访问你的在线简历了**

  ![](images/QQ图片20200211145537.png)

## 16.git加速与其他设置

要设置你的代理软件的本地监听ip端口

```bash
git config --global http.proxy http://127.0.0.1:7890
git config --global https.proxy https://127.0.0.1:7890
```

有时候需要关闭ssl验证

```bash
git config --global http.sslVerify false
```

